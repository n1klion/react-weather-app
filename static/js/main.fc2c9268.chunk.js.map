{"version":3,"sources":["helpers/firstLetterCaps.js","components/Details.jsx","components/WeatherCard.jsx","components/Loader.jsx","components/Search.jsx","plugins/axios/interceptors.js","plugins/axios/index.js","store/weatherReducer.js","App.jsx","store/store.js","reportWebVitals.js","index.js"],"names":["firstLetterCaps","str","charAt","toUpperCase","slice","TabPane","Tabs","Details","details","className","defaultActiveKey","animated","inkBar","tabPane","list","map","item","index","time","Date","dt_txt","replace","getHours","img","weather","icon","alt","main","description","temp","Math","round","tempMin","temp_min","tempMax","temp_max","feelsLike","feels_like","tab","src","WeatherCard","deleteCityFromList","updateCity","nameCity","name","iconAlt","weather_of_24_hours","CloseOutlined","onClick","id","ReloadOutlined","Loader","indicator","LoadingOutlined","style","fontSize","spin","Search","onSearchHandler","useState","value","setValue","placeholder","enterButton","size","onChange","e","target","onSearch","searchHandler","setParams","config","params","Object","assign","appid","process","lang","units","returnData","res","data","interceptors","axios","request","use","response","instance","create","baseURL","WEATHER","TOGGLE_LOADER","DELETE_WEATHER","UPDATE_WEATHER","initialState","isLoaded","citiesWeather","toggleLoader","bool","type","payload","checkRepeatCity","cities","length","some","city","weatherReducer","state","action","filter","reduce","acc","App","dispatch","useDispatch","useSelector","deleteCity","cityName","a","requestArr","get","Promise","all","weatherOfCity","weatherOf24Hourse","weatherDetail","msg","status","message","notification","error","span","offset","getState","citiesList","checked","warn","info","lineHeight","color","reducers","combineReducers","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fc2c9268.chunk.js","sourcesContent":["/**\r\n * Function for caps first letter\r\n * @param {String} str \r\n * @returns {String}\r\n */\r\nfunction firstLetterCaps(str) {\r\n  return str.charAt(0).toUpperCase() + str.slice(1)\r\n}\r\n\r\nexport default firstLetterCaps","import { Tabs } from 'antd'\r\nimport firstLetterCaps from '../helpers/firstLetterCaps'\r\n\r\nconst { TabPane } = Tabs\r\n\r\nfunction Details({ details }) {\r\n  function tabPane() {\r\n    return details.list.map((item, index) => {\r\n      const time = new Date(item.dt_txt.replace(/ /g, 'T')).getHours()\r\n      const img = item.weather[0].icon\r\n      const alt = item.weather[0].main\r\n      const description = firstLetterCaps(item.weather[0].description)\r\n      const temp = Math.round(item.main.temp)\r\n      const tempMin = Math.round(item.main.temp_min)\r\n      const tempMax = Math.round(item.main.temp_max)\r\n      const feelsLike = Math.round(item.main.feels_like)\r\n      return (\r\n        <TabPane tab={time} key={index}>\r\n          <div className=\"details-wrap\">\r\n            <div className=\"details-weather\">\r\n              <img src={`http://openweathermap.org/img/wn/${img}.png`} alt={alt} />\r\n              <span className=\"weather-description\">{description}</span>\r\n            </div>\r\n            <div className=\"details-temp\">\r\n              <h3 className=\"temp-degree\">{temp}&#176;C</h3>\r\n              <span className=\"temp-max-min\">\r\n                max:{tempMax}&#176; min:{tempMin}&#176;\r\n              </span>\r\n              <span className=\"temp-feelslike\">Ощущается как: {feelsLike}&#176;C</span>\r\n            </div>\r\n          </div>\r\n        </TabPane>\r\n      )\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Tabs\r\n      className=\"tabs-wrap\"\r\n      defaultActiveKey=\"0\"\r\n      animated={{ inkBar: true, tabPane: true }}\r\n    >\r\n      {tabPane()}\r\n    </Tabs>\r\n  )\r\n}\r\n\r\nexport default Details\r\n","import firstLetterCaps from '../helpers/firstLetterCaps'\r\nimport { Card } from 'antd'\r\nimport { CloseOutlined, ReloadOutlined } from '@ant-design/icons'\r\nimport Details from './Details'\r\n\r\nfunction WeatherCard({ weather, deleteCityFromList, updateCity }) {\r\n  const nameCity = weather.name\r\n  const icon = weather.weather[0].icon\r\n  const iconAlt = weather.weather[0].main\r\n  const temp = Math.round(weather.main.temp)\r\n  const description = firstLetterCaps(weather.weather[0].description)\r\n  const feelsLike = Math.round(weather.main.feels_like)\r\n  const details = weather.weather_of_24_hours\r\n\r\n  return (\r\n    <Card className={'weather-card-wrap'}>\r\n      <CloseOutlined\r\n        onClick={() => deleteCityFromList(weather.id)}\r\n        className=\"weather-card-close\"\r\n      />\r\n      <ReloadOutlined onClick={() => updateCity(nameCity)} className=\"weather-card-reload\" />\r\n      <h3 className=\"weather-title\">{nameCity}</h3>\r\n      <div className=\"weather-degree-details\">\r\n        <img src={`http://openweathermap.org/img/wn/${icon}@2x.png`} alt={iconAlt} />\r\n        <span className=\"weather-degree\">{temp}&#176;C</span>\r\n      </div>\r\n      <p className=\"weather-clouds\">{description}</p>\r\n      <p className=\"weather-feelslike\">Ощущается как: {feelsLike}&#176;C</p>\r\n      <Details details={details} />\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default WeatherCard\r\n","import { Spin } from 'antd'\r\nimport { LoadingOutlined } from '@ant-design/icons'\r\n\r\nfunction Loader() {\r\n  return (\r\n    <div className={'loader-wrap'}>\r\n      <Spin indicator={<LoadingOutlined style={{ fontSize: '4rem' }} spin />} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loader\r\n","import { Input } from 'antd'\r\nimport { useState } from 'react'\r\n\r\nfunction Search({ onSearchHandler }) {\r\n  const [value, setValue] = useState('')\r\n\r\n  function searchHandler(value) {\r\n    onSearchHandler(value)\r\n    setValue('')\r\n  }\r\n\r\n  return (\r\n    <Input.Search\r\n      className=\"search-body\"\r\n      placeholder=\"Введите город\"\r\n      enterButton=\"Поиск\"\r\n      size=\"large\"\r\n      value={value}\r\n      onChange={(e) => setValue(e.target.value)}\r\n      onSearch={(value) => searchHandler(value)}\r\n    />\r\n  )\r\n}\r\n\r\nexport default Search\r\n","function setParams(config) {\r\n  const params = config.params || {}\r\n  config.params = Object.assign(params, {\r\n    appid: process.env.REACT_APP_APPID,\r\n    lang: 'ru',\r\n    units: 'metric',\r\n  })\r\n\r\n  return config\r\n}\r\n\r\nfunction returnData(res) {\r\n  return res.data\r\n}\r\n\r\nfunction interceptors(axios) {\r\n  axios.interceptors.request.use(setParams)\r\n  axios.interceptors.response.use(returnData)\r\n}\r\n\r\nexport default interceptors\r\n","import axios from 'axios'\r\nimport interceptors from './interceptors'\r\n\r\nconst instance = axios.create({\r\n  baseURL: process.env.REACT_APP_BASE_URL,\r\n})\r\n\r\ninterceptors(instance)\r\n\r\nexport default instance\r\n","import { notification } from 'antd'\r\nimport axios from '../plugins/axios'\r\n\r\nconst WEATHER = 'weatherReducer/WEATHER'\r\nconst TOGGLE_LOADER = 'weatherReducer/TOGGLE_LOADER'\r\nconst DELETE_WEATHER = 'weatherReducer/DELETE_WEATHER'\r\nconst UPDATE_WEATHER = 'weatherReducer/UPDATE_WEATHER'\r\n\r\nconst initialState = {\r\n  isLoaded: true,\r\n  citiesWeather: [],\r\n}\r\n\r\nfunction weatherReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case WEATHER: {\r\n      return {\r\n        ...state,\r\n        isLoaded: true,\r\n        citiesWeather: [...state.citiesWeather, action.payload],\r\n      }\r\n    }\r\n    case TOGGLE_LOADER: {\r\n      return {\r\n        ...state,\r\n        isLoaded: action.payload,\r\n      }\r\n    }\r\n    case DELETE_WEATHER: {\r\n      return {\r\n        ...state,\r\n        citiesWeather: state.citiesWeather.filter((city) => city.id !== action.payload),\r\n      }\r\n    }\r\n    case UPDATE_WEATHER: {\r\n      return {\r\n        ...state,\r\n        citiesWeather: state.citiesWeather.reduce((acc, item, index) => {\r\n          if (item.id === action.payload.id) {\r\n            acc[index] = action.payload\r\n          } else {\r\n            acc[index] = item\r\n          }\r\n          return acc\r\n        }, []),\r\n      }\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n// Actions\r\nfunction toggleLoader(bool) {\r\n  return {\r\n    type: TOGGLE_LOADER,\r\n    payload: bool,\r\n  }\r\n}\r\n\r\nfunction setWeather(data) {\r\n  return {\r\n    type: WEATHER,\r\n    payload: data,\r\n  }\r\n}\r\n\r\nfunction setUpdatedWeather(data) {\r\n  return {\r\n    type: UPDATE_WEATHER,\r\n    payload: data,\r\n  }\r\n}\r\n\r\nexport function deleteCity(id) {\r\n  return {\r\n    type: DELETE_WEATHER,\r\n    payload: id,\r\n  }\r\n}\r\n\r\n// Thunks\r\nexport function getWeather(cityName) {\r\n  return async function (dispatch, getState) {\r\n    try {\r\n      dispatch(toggleLoader(false))\r\n      const requestArr = [\r\n        axios.get(`/weather?q=${cityName}`),\r\n        axios.get(`/forecast?q=${cityName}&cnt=9`),\r\n      ]\r\n      const [weatherOfCity, weatherOf24Hourse] = await Promise.all(requestArr)\r\n      const citiesList = getState().weather.citiesWeather\r\n      const checked = checkRepeatCity(citiesList, weatherOfCity)\r\n\r\n      const weatherDetail = { ...weatherOfCity, weather_of_24_hours: weatherOf24Hourse }\r\n\r\n      if (!checked) {\r\n        dispatch(setWeather(weatherDetail))\r\n      } else {\r\n        notification.warn({\r\n          message: 'Пердупреждение',\r\n          description: 'Этот город уже добавлен',\r\n        })\r\n      }\r\n    } catch (err) {\r\n      const msg = err.response.status === 404 ? 'Город не найден' : err.message\r\n      notification.error({\r\n        message: 'Ошибка',\r\n        description: msg,\r\n      })\r\n    } finally {\r\n      dispatch(toggleLoader(true))\r\n    }\r\n  }\r\n}\r\n\r\nexport function updateWeather(cityName) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(toggleLoader(false))\r\n      const requestArr = [\r\n        axios.get(`/weather?q=${cityName}`),\r\n        axios.get(`/forecast?q=${cityName}&cnt=9`),\r\n      ]\r\n      const [weatherOfCity, weatherOf24Hourse] = await Promise.all(requestArr)\r\n      const weatherDetail = { ...weatherOfCity, weather_of_24_hours: weatherOf24Hourse }\r\n\r\n      dispatch(setUpdatedWeather(weatherDetail))\r\n    } catch (err) {\r\n      const msg = err.response.status === 404 ? 'Город не найден' : err.message\r\n      notification.error({\r\n        message: 'Ошибка',\r\n        description: msg,\r\n      })\r\n    } finally {\r\n      dispatch(toggleLoader(true))\r\n    }\r\n  }\r\n}\r\n\r\n// Helpers\r\nfunction checkRepeatCity(cities, response) {\r\n  if (cities.length) {\r\n    return cities.some((city) => city.id === response.id)\r\n  }\r\n  return false\r\n}\r\n\r\nexport default weatherReducer\r\n","import { useDispatch, useSelector } from 'react-redux'\nimport WeatherCard from './components/WeatherCard'\nimport Loader from './components/Loader'\nimport Search from './components/Search'\nimport { getWeather, deleteCity, updateWeather } from './store/weatherReducer'\nimport { notification, Col } from 'antd'\n\nimport './App.less'\n\nfunction App() {\n  const dispatch = useDispatch()\n\n  const isLoaded = useSelector((state) => state.weather.isLoaded)\n  const data = useSelector((state) => state.weather.citiesWeather)\n\n  function onSearchHandler(value) {\n    if (value) {\n      dispatch(getWeather(value))\n    } else {\n      notification.info({\n        message: 'Info',\n        description: 'Введите город для поиска',\n      })\n    }\n  }\n\n  function deleteCityFromList(id) {\n    dispatch(deleteCity(id))\n  }\n\n  function updateCity(name) {\n    dispatch(updateWeather(name))\n  }\n\n  function dataList() {\n    if (data.length) {\n      return data.map((city, index) => (\n        <WeatherCard\n          updateCity={updateCity}\n          deleteCityFromList={deleteCityFromList}\n          weather={city}\n          key={index}\n        />\n      ))\n    } else {\n      return (\n        <div style={{ fontSize: '1.2rem', lineHeight: 1.2, color: '#bfbfbf' }}>\n          Список пуст...\n        </div>\n      )\n    }\n  }\n\n  return (\n    <>\n      {!isLoaded && <Loader />}\n      <Col span={12} offset={6} className=\"container-wrap\">\n        <Search onSearchHandler={onSearchHandler} />\n        {dataList()}\n      </Col>\n    </>\n  )\n}\n\nexport default App\n","import { createStore, combineReducers, applyMiddleware, compose } from 'redux'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport weatherReducer from './weatherReducer'\r\n\r\nconst reducers = combineReducers({\r\n  weather: weatherReducer,\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)))\r\n\r\nexport default store\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport './index.css'\n\nimport App from './App'\nimport store from './store/store'\nimport reportWebVitals from './reportWebVitals'\nimport { Provider } from 'react-redux'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}