(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{130:function(e,t,a){},131:function(e,t,a){"use strict";a.r(t);var r=a(6),n=a(0),c=a.n(n),s=a(16),i=a.n(s),o=(a(98),a(42));var u=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},d=a(137),l=a(56),h=a(138),p=a(62),j=p.a.TabPane;var b=function(e){var t=e.details;return Object(r.jsx)(p.a,{className:"tabs-wrap",defaultActiveKey:"0",animated:{inkBar:!0,tabPane:!0},children:t.list.map((function(e,t){var a=new Date(e.dt_txt.replace(/ /g,"T")).getHours(),n=e.weather[0].icon,c=e.weather[0].main,s=u(e.weather[0].description),i=Math.round(e.main.temp),o=Math.round(e.main.temp_min),d=Math.round(e.main.temp_max),l=Math.round(e.main.feels_like);return Object(r.jsx)(j,{tab:a,children:Object(r.jsxs)("div",{className:"details-wrap",children:[Object(r.jsxs)("div",{className:"details-weather",children:[Object(r.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(n,".png"),alt:c}),Object(r.jsx)("span",{className:"weather-description",children:s})]}),Object(r.jsxs)("div",{className:"details-temp",children:[Object(r.jsxs)("h3",{className:"temp-degree",children:[i,"\xb0C"]}),Object(r.jsxs)("span",{className:"temp-max-min",children:["max:",d,"\xb0 min:",o,"\xb0"]}),Object(r.jsxs)("span",{className:"temp-feelslike",children:["\u041e\u0449\u0443\u0449\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a: ",l,"\xb0C"]})]})]})},t)}))})};var m=function(e){var t=e.weather,a=e.deleteCityFromList,n=e.updateCity,c=t.name,s=t.weather[0].icon,i=t.weather[0].main,o=Math.round(t.main.temp),p=u(t.weather[0].description),j=Math.round(t.main.feels_like),m=t.weather_of_24_hours;return Object(r.jsxs)(d.a,{className:"weather-card-wrap",children:[Object(r.jsx)(l.a,{onClick:function(){return a(t.id)},className:"weather-card-close"}),Object(r.jsx)(h.a,{onClick:function(){return n(c)},className:"weather-card-reload"}),Object(r.jsx)("h3",{className:"weather-title",children:c}),Object(r.jsxs)("div",{className:"weather-degree-details",children:[Object(r.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(s,"@2x.png"),alt:i}),Object(r.jsxs)("span",{className:"weather-degree",children:[o,"\xb0C"]})]}),Object(r.jsx)("p",{className:"weather-clouds",children:p}),Object(r.jsxs)("p",{className:"weather-feelslike",children:["\u041e\u0449\u0443\u0449\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a: ",j,"\xb0C"]}),Object(r.jsx)(b,{details:m})]})},f=a(134),O=a(64);var w=function(){return Object(r.jsx)("div",{className:"loader-wrap",children:Object(r.jsx)(f.a,{indicator:Object(r.jsx)(O.a,{style:{fontSize:"4rem"},spin:!0})})})},x=a(49),v=a(135);var g=function(e){var t=e.onSearchHandler,a=Object(n.useState)(""),c=Object(x.a)(a,2),s=c[0],i=c[1];return Object(r.jsx)(v.a.Search,{className:"search-body",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434",enterButton:"\u041f\u043e\u0438\u0441\u043a",size:"large",value:s,onChange:function(e){return i(e.target.value)},onSearch:function(e){return function(e){t(e),i("")}(e)}})},y=a(50),_=a.n(y),N=a(61),E=a(89),C=a(23),k=a(136),L=a(87);function S(e){var t=e.params||{};return e.params=Object.assign(t,{appid:"0f7854b59772c098924073c187de26ec",lang:"ru",units:"metric"}),e}function T(e){return e.data}var W=function(e){e.interceptors.request.use(S),e.interceptors.response.use(T)},R=a.n(L).a.create({baseURL:"https://api.openweathermap.org/data/2.5"});W(R);var M=R,P="weatherReducer/WEATHER",A="weatherReducer/TOGGLE_LOADER",D="weatherReducer/DELETE_WEATHER",F="weatherReducer/UPDATE_WEATHER",H={isLoaded:!0,citiesWeather:[]};function q(e){return{type:A,payload:e}}function B(e,t){return!!e.length&&e.some((function(e){return e.id===t.id}))}var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(C.a)(Object(C.a)({},e),{},{isLoaded:!0,citiesWeather:[].concat(Object(E.a)(e.citiesWeather),[t.payload])});case A:return Object(C.a)(Object(C.a)({},e),{},{isLoaded:t.payload});case D:return Object(C.a)(Object(C.a)({},e),{},{citiesWeather:e.citiesWeather.filter((function(e){return e.id!==t.payload}))});case F:return Object(C.a)(Object(C.a)({},e),{},{citiesWeather:e.citiesWeather.reduce((function(e,a,r){return a.id===t.payload.id?e[r]=t.payload:e[r]=a,e}),[])});default:return e}},U=a(27);a(130);var z=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.weather.isLoaded})),a=Object(o.c)((function(e){return e.weather.citiesWeather}));function n(t){e(function(e){return{type:D,payload:e}}(t))}function c(t){var a;e((a=t,function(){var e=Object(N.a)(_.a.mark((function e(t){var r,n,c,s,i,o,u;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(q(!1)),r=[M.get("/weather?q=".concat(a)),M.get("/forecast?q=".concat(a,"&cnt=9"))],e.next=5,Promise.all(r);case 5:n=e.sent,c=Object(x.a)(n,2),s=c[0],i=c[1],o=Object(C.a)(Object(C.a)({},s),{},{weather_of_24_hours:i}),t({type:F,payload:o}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),u=404===e.t0.response.status?"\u0413\u043e\u0440\u043e\u0434 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d":e.t0.message,k.a.error({message:"\u041e\u0448\u0438\u0431\u043a\u0430",description:u});case 17:return e.prev=17,t(q(!0)),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,13,17,20]])})));return function(t){return e.apply(this,arguments)}}()))}return Object(r.jsxs)(r.Fragment,{children:[!t&&Object(r.jsx)(w,{}),Object(r.jsxs)(U.a,{span:12,offset:6,className:"container-wrap",children:[Object(r.jsx)(g,{onSearchHandler:function(t){var a;t?e((a=t,function(){var e=Object(N.a)(_.a.mark((function e(t,r){var n,c,s,i,o,u,d,l,h;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(q(!1)),n=[M.get("/weather?q=".concat(a)),M.get("/forecast?q=".concat(a,"&cnt=9"))],e.next=5,Promise.all(n);case 5:c=e.sent,s=Object(x.a)(c,2),i=s[0],o=s[1],u=r().weather.citiesWeather,d=B(u,i),l=Object(C.a)(Object(C.a)({},i),{},{weather_of_24_hours:o}),d?k.a.warn({message:"\u041f\u0435\u0440\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435",description:"\u042d\u0442\u043e\u0442 \u0433\u043e\u0440\u043e\u0434 \u0443\u0436\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d"}):t({type:P,payload:l}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),h=404===e.t0.response.status?"\u0413\u043e\u0440\u043e\u0434 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d":e.t0.message,k.a.error({message:"\u041e\u0448\u0438\u0431\u043a\u0430",description:h});case 19:return e.prev=19,t(q(!0)),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[0,15,19,22]])})));return function(t,a){return e.apply(this,arguments)}}())):k.a.info({message:"Info",description:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430"})}}),a.length?a.map((function(e,t){return Object(r.jsx)(m,{updateCity:c,deleteCityFromList:n,weather:e},t)})):Object(r.jsx)("div",{style:{fontSize:"1.2rem",lineHeight:1.2,color:"#bfbfbf"},children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0443\u0441\u0442..."})]})]})},G=a(34),J=a(88),X=Object(G.c)({weather:I}),K=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||G.d,V=Object(G.e)(X,K(Object(G.a)(J.a))),Q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,139)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),r(e),n(e),c(e),s(e)}))};i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(o.a,{store:V,children:Object(r.jsx)(z,{})})}),document.getElementById("root")),Q()},98:function(e,t,a){}},[[131,1,2]]]);
//# sourceMappingURL=main.fc2c9268.chunk.js.map